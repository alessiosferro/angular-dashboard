<section *ngIf="user$ | async as user" class="message-list">
  <article *ngFor="let message of messages$ | async"
           class="message-list__item">
    <div [class.message-list__item--author]="user.email === message.email" class="message-list__item-container">
      <img *ngIf="user.email !== message.email && message.photoURL" [alt]="message.email + ' profile picture'"
           [class.message-list__item-photo--author]="user.email === message.email"
           [src]="message.photoURL"
           class="message-list__item-photo" height="32"/>
      <div [class.message-list__item-message--author]="user.email === message.email"
           class="message-list__item-message">
        <ng-container *ngIf="user.email !== message.email">
          <strong *ngIf="message.displayName">{{message.displayName}}</strong>
          <strong *ngIf="!message.displayName">{{message.email}}</strong>
        </ng-container>

        <div class="message-list__item-message-content">
          <p>{{message.text}}</p>
          <small
            *ngIf="utilsService.dayjs(message.created_at).isToday(); else date"
            class="message-list__item-date">{{message.created_at | date:"HH:mm"}}</small>
          <ng-template #date><small
            class="message-list__item-date">{{message.created_at | date: "dd/MM/YYYY HH:mm"}}</small></ng-template>
        </div>
      </div>
    </div>
  </article>
</section>
